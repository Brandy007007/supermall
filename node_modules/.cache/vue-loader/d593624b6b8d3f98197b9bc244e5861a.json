{"remainingRequest":"/Users/yanjiang/Desktop/cliTest/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yanjiang/Desktop/cliTest/supermall/src/views/cart/childComp/CartBottomBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanjiang/Desktop/cliTest/supermall/src/views/cart/childComp/CartBottomBar.vue","mtime":1611585383637},{"path":"/Users/yanjiang/Desktop/cliTest/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanjiang/Desktop/cliTest/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDaGVja0J1dHRvbiBmcm9tICIuL0NoZWNrQnV0dG9uIjsKaW1wb3J0IFRvYXN0IGZyb20gImNvbXBvbmVudHMvY29tbW9uL3RvYXN0L1RvYXN0IgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYXJ0Qm90dG9tQmFyIiwKICBjb21wb25lbnRzOiB7CiAgICBDaGVja0J1dHRvbiwKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0b3RhbFByaWNlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY2FydGxpc3QKICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkOwogICAgICAgIH0pCiAgICAgICAgLnJlZHVjZSgocHJlVmFsdWUsIGl0ZW0pID0+IHsKICAgICAgICAgIHJldHVybiBpdGVtLnByaWNlICogaXRlbS5jb3VudCArIHByZVZhbHVlOwogICAgICAgIH0sIDApCiAgICAgICAgLnRvRml4ZWQoMik7CiAgICB9LAogICAgdG90YWxDb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNhcnRsaXN0CiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gewogICAgICAgICAgcmV0dXJuIGl0ZW0uY2hlY2tlZDsKICAgICAgICB9KQogICAgICAgIC5yZWR1Y2UoKHByZVZhbHVlLCBpdGVtKSA9PiB7CiAgICAgICAgICByZXR1cm4gcHJlVmFsdWUgKyBpdGVtLmNvdW50OwogICAgICAgIH0sIDApOwogICAgfSwKICAgIGlzU2VsZWN0QWxsKCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuY2FydGxpc3QubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7CiAgICAgIC8vIHJldHVybiAhdGhpcy4kc3RvcmUuc3RhdGUuY2FydGxpc3QuZmlsdGVyKChpdGVtKSA9PiAhaXRlbS5jaGVja2VkKS5sZW5ndGg7CiAgICAgIHJldHVybiAhdGhpcy4kc3RvcmUuc3RhdGUuY2FydGxpc3QuZmluZCgoaXRlbSkgPT4gIWl0ZW0uY2hlY2tlZCk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0QWxsKCkgewogICAgICB0aGlzLmlzU2VsZWN0QWxsCiAgICAgICAgPyB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0bGlzdC5mb3JFYWNoKChpdGVtKSA9PiAoaXRlbS5jaGVja2VkID0gZmFsc2UpKQogICAgICAgIDogdGhpcy4kc3RvcmUuc3RhdGUuY2FydGxpc3QuZm9yRWFjaCgoaXRlbSkgPT4gKGl0ZW0uY2hlY2tlZCA9IHRydWUpKTsKICAgIH0sCiAgICBjYWxDbGljaygpewogICAgICBpZighIjEiKSl7CiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdygi6K+36YCJ5oup6LSt5Lmw55qE5ZWG5ZOBIiwxNTAwKQogICAgICB9CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["CartBottomBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CartBottomBar.vue","sourceRoot":"src/views/cart/childComp","sourcesContent":["<template>\n  <div class=\"bottom-bar\">\n    <div class=\"bottom-check\">\n      <check-button\n        class=\"checkbtn\"\n        :is-checked=\"isSelectAll\"\n        @click.native=\"selectAll\"\n      ></check-button>\n      <span>全选</span>\n    </div>\n\n    <div class=\"totalprice\">合计：¥ {{ totalPrice }}</div>\n    <div class=\"totalcount\" @click=\"calClick\">去计算：({{ totalCount }})</div>\n  </div>\n</template>\n\n<script>\nimport CheckButton from \"./CheckButton\";\nimport Toast from \"components/common/toast/Toast\"\n\nexport default {\n  name: \"CartBottomBar\",\n  components: {\n    CheckButton,\n  },\n  computed: {\n    totalPrice() {\n      return this.$store.state.cartlist\n        .filter((item) => {\n          return item.checked;\n        })\n        .reduce((preValue, item) => {\n          return item.price * item.count + preValue;\n        }, 0)\n        .toFixed(2);\n    },\n    totalCount() {\n      return this.$store.state.cartlist\n        .filter((item) => {\n          return item.checked;\n        })\n        .reduce((preValue, item) => {\n          return preValue + item.count;\n        }, 0);\n    },\n    isSelectAll() {\n      if (this.$store.state.cartlist.length === 0) return false;\n      // return !this.$store.state.cartlist.filter((item) => !item.checked).length;\n      return !this.$store.state.cartlist.find((item) => !item.checked);\n    },\n  },\n  methods: {\n    selectAll() {\n      this.isSelectAll\n        ? this.$store.state.cartlist.forEach((item) => (item.checked = false))\n        : this.$store.state.cartlist.forEach((item) => (item.checked = true));\n    },\n    calClick(){\n      if(!\"1\")){\n        this.$toast.show(\"请选择购买的商品\",1500)\n      }\n    }\n  },\n};\n</script>\n\n<style>\n.bottom-bar {\n  height: 40px;\n  line-height: 40px;\n  background-color: #eee;\n  position: relative;\n  bottom: 43px;\n  display: flex;\n}\n.bottom-check {\n  display: flex;\n  align-items: center;\n}\n.checkbtn {\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  margin-left: 10px;\n  margin-right: 5px;\n}\n.totalprice {\n  margin-left: 10px;\n}\n.totalcount {\n  width: 120px;\n  height: 40px;\n  background-color: #ee512f;\n  color: white;\n  position: absolute;\n  right: 0px;\n  text-align: center;\n}\n</style>"]}]}